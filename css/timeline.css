/* ===========================
   Baby_Photo / css/timeline.css
   - 종이 질감 배경
   - 중앙 축(연필선) + 카드 연결선(연필선)
   - 가로 타임라인(휠로 좌우 이동)
   - 반응형/호버/현재 아이템 강조
   - (선택) 오버레이 갤러리 스타일 포함
   =========================== */

:root{
  --bg:#f7f5f0;      /* 종이 바탕색 */
  --ink:#1f2937;     /* 기본 텍스트 색 */
  --muted:#6b7280;
  --card:#ffffff;
  --gap:120px;       /* 아이템 간격 */
  --radius:16px;
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  overflow:hidden; /* 가로 타임라인 컨셉: 전체 화면을 뷰포트로 고정 */
}

/* ===== 종이 질감 배경 + 얇은 해칭 ===== */
#paper-bg{
  position:fixed; inset:0; z-index:0;
  background:
    radial-gradient(1200px 600px at 50% 30%, rgba(0,0,0,.05), rgba(0,0,0,.10)),
    #f7f5f0;
}
#paper-bg::before{
  content:""; position:absolute; inset:0;
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'>\
<defs><pattern id='h' width='24' height='24' patternUnits='userSpaceOnUse' patternTransform='rotate(-14)'>\
<line x1='0' y1='0' x2='0' y2='24' stroke='rgba(0,0,0,0.06)' stroke-width='1'/>\
<line x1='12' y1='0' x2='12' y2='24' stroke='rgba(0,0,0,0.04)' stroke-width='1'/>\
</pattern></defs><rect width='100%' height='100%' fill='url(%23h)'/></svg>");
  mix-blend-mode: multiply;
  opacity:.6;
  pointer-events:none;
}

/* ===== 헤더/푸터 ===== */
.site-header{
  position:fixed; left:0; right:0; top:10px; z-index:2;
  text-align:center; pointer-events:none;
}
.site-header h1{ margin:0; font-size: clamp(20px, 3.4vw, 34px) }
.site-sub{ margin:6px 0 0; color:var(--muted); font-size:14px }

.site-foot{
  position:fixed; left:0; right:0; bottom:8px; z-index:2;
  text-align:center; color:var(--muted); font-size:12px; pointer-events:none;
}

/* ===== 뷰포트/트랙 ===== */
.viewport{
  position:relative; z-index:1;
  height:100dvh; width:100vw; overflow:hidden;
}
.track{
  position:absolute; top:0; left:50%;
  height:100%;
  display:flex; align-items:center; gap:var(--gap);
  transform: translateX(-50%);
  padding: 0 50vw; /* 양끝 여유 */
}

/* ===== 중앙 축: ‘연필로 그린’ 가로 선 ===== */
.axis{
  position:absolute; left:0; right:0; top:50%; transform:translateY(-50%);
  height:6px; background: transparent;
}

/* 흑연 코어(가로 방향) */
.axis::before{
  content:""; position:absolute; inset:0; top:50%; transform:translateY(-50%);
  height:3px; border-radius:2px;
  background:
    linear-gradient(90deg, #2b2b2b, #222),
    repeating-linear-gradient(90deg, rgba(0,0,0,.18) 0 6px, rgba(0,0,0,.34) 6px 7px, rgba(0,0,0,.18) 7px 13px);
  filter: blur(.2px) contrast(1.1);
  box-shadow: 0 0 0 1px rgba(0,0,0,.03), 0 6px 14px rgba(0,0,0,.12);
}

/* 가장자리 흑연 가루 + 거친 해칭 */
.axis::after{
  content:""; position:absolute; inset:0;
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18'>\
<defs><pattern id='h' width='18' height='18' patternUnits='userSpaceOnUse' patternTransform='rotate(0)'>\
<line x1='0' y1='0' x2='18' y2='0' stroke='rgba(0,0,0,0.06)' stroke-width='1'/>\
<line x1='0' y1='9' x2='18' y2='9' stroke='rgba(0,0,0,0.04)' stroke-width='1'/>\
</pattern></defs><rect width='100%' height='100%' fill='url(%23h)'/></svg>");
  mix-blend-mode: multiply;
  opacity:.35;
  mask: radial-gradient(closest-side, rgba(0,0,0,.7), transparent 72%);
}

/* 아이템 박스는 화면 세로 중앙(축) 기준으로 놓고, 위/아래로 오프셋 */
.item{ position:relative; width: clamp(220px, 28vw, 360px); display:flex; flex-direction:column; align-items:center; }
:root{ --offset: 160px; }               /* 축에서 카드까지 거리 */

.item .card{ transform: translateY(0); transition: transform .2s ease, box-shadow .2s ease; }
.item.top    .card{ transform: translateY(calc(-1 * var(--offset))); }
.item.bottom .card{ transform: translateY(var(--offset)); }

/* 축과 카드 연결 ‘연필선’(수직) */
.item .nub{
  position:absolute; left:50%; transform:translateX(-50%);
  width:3px; background: transparent;
}
.item.top .nub{
  /* 축(50%)에서 위로 뻗기 */
  bottom: calc(50% + 3px); height: var(--offset);
}
.item.bottom .nub{
  /* 축(50%)에서 아래로 뻗기 */
  top: calc(50% + 3px); height: var(--offset);
}

/* 연결선 질감 */
.item .nub::before{
  content:""; position:absolute; inset:0; left:50%; transform:translateX(-50%);
  width:2px; border-radius:2px;
  background:
    linear-gradient(#2a2a2a, #1f1f1f),
    repeating-linear-gradient(0deg, rgba(0,0,0,.18) 0 7px, rgba(0,0,0,.35) 7px 8px, rgba(0,0,0,.18) 8px 14px);
  filter: blur(.25px);
}
.item .nub::after{
  content:""; position:absolute; inset:-2px;
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20'>\
<defs><pattern id='h' width='20' height='20' patternUnits='userSpaceOnUse' patternTransform='rotate(12)'>\
<line x1='0' y1='0' x2='0' y2='20' stroke='rgba(0,0,0,0.05)' stroke-width='1'/>\
</pattern></defs><rect width='100%' height='100%' fill='url(%23h)'/></svg>");
  mix-blend-mode: multiply; opacity:.28; pointer-events:none;
}

/* 호버/현재 강조는 기존과 동일 */
.item:hover .card, .item:focus-within .card{ transform: translateY(calc(var(--offset) * var(--dir, 0))) scale(1.035); }
.item.active .card{ transform: translateY(calc(var(--offset) * var(--dir, 0))) scale(1.06); }


/* ===== 뷰포트 스크롤/스냅 ===== */
.viewport{ overflow-x:auto }
.viewport{ scroll-snap-type: x proximity }
.item{ scroll-snap-align: center }

/* ===== 모바일 튜닝 ===== */
@media (max-width: 540px){
  :root{ --gap: 72px }
  .item{ width: clamp(200px, 70vw, 320px) }
}

/* ===== 모션 줄이기 ===== */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; animation:none !important }
}

/* ===== (선택) 오버레이 갤러리 ===== */
.overlay{
  position: fixed; inset:0; z-index: 5;
  background: rgba(247,245,240,.96);
  backdrop-filter: blur(2px);
  display:none; flex-direction: column;
}
.overlay.open{ display:flex; animation: fade .15s ease }
@keyframes fade{ from{opacity:0} to{opacity:1} }

.overlay-back{
  position: absolute; top:14px; left:14px;
  background:#111; color:#fff; border:0; border-radius:10px;
  padding:8px 12px; font-weight:700; cursor:pointer;
  box-shadow: 0 6px 18px rgba(0,0,0,.2);
}
.overlay-head{
  padding: 48px 16px 8px; text-align:center;
}
.overlay-sub{ color:#6b7280; font-size:14px }

.overlay-grid{
  flex:1; overflow:auto; padding: 12px 16px 28px;
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}
.overlay-grid img{
  width:100%; display:block; border-radius:14px; aspect-ratio: 4/3; object-fit: cover;
  box-shadow: 0 8px 20px rgba(0,0,0,.12);
  transition: transform .15s ease;
}
.overlay-grid img:hover{ transform: scale(1.02) }
